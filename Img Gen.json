{
    "version": 2,
    "name": "Img Gen",
    "disableSend": false,
    "placeBeforeInput": false,
    "injectInput": false,
    "color": "rgba(0, 0, 0, 0)",
    "onlyBorderColor": false,
    "qrList": [
        {
            "id": 5,
            "showLabel": false,
            "label": "Set prefix",
            "title": "",
            "message": "// *Set Prefix - Sets a prefix which is added to image prompts.\n\nDirections: Add a space to end of description. To reset prefix type nothing and cick ok, or click cancel.\n************************* |\n\n/input default={{getvar::SDprefix}} Set a constant prefix for last message generation |\n/setvar key=prefixInput {{pipe}} |\n\n/if left=prefixInput right= rule=neq {:\n\t/setvar key=SDprefix {{getvar::prefixInput}},  |\n:} |\n\n/if left=prefixInput right= rule=eq {:\n\t/flushvar  SDprefix  |\n:}\n",
            "contextList": [],
            "preventAutoExecute": true,
            "isHidden": false,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false,
            "executeOnNewChat": false,
            "automationId": ""
        },
        {
            "id": 1,
            "showLabel": false,
            "label": "Create w/ prompt",
            "title": "",
            "message": "// * Create w/ prompt - Brings up a text box to set a prompt which is used to generate an image.\n\n************************* |\n\n/input default={{getvar::SDprefix}} What do you want to generate? |\n/setvar key=ImagePrompt {{pipe}} | \n\n/wordcount {{getvar::ImagePrompt}} |\n\n/if left={{pipe}} right=1 rule=gt {:\n\t/echo Generating requested image... |\n\t/setglobalvar key=generatingimg true |\n\t/getvar ImagePrompt |\n\t/imagine\n:} |\n\n/flushvar PreImagePrompt |\n/flushvar ImagePrompt\n/flushglobalvar generatingimg",
            "contextList": [],
            "preventAutoExecute": true,
            "isHidden": false,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false,
            "executeOnNewChat": false,
            "automationId": ""
        },
        {
            "id": 9,
            "showLabel": false,
            "label": "Alter then imagine",
            "title": "",
            "message": "// *Alter then imagine  - Allows editing of the last message before it is sent to the image generator.\n\nDirections: Click 3 dots to the left and select \" Execute on AI message\" to enable. Only one of these QRs should be active at a time.\n************************* |\n\n/setvar key=PreImagePrompt {{getvar::SDprefix}} {{lastMessage}} |\n/input default={{getvar::PreImagePrompt}} Alter the scene to imagine |\n/setvar key=ImagePrompt |\n\n/wordcount {{getvar::ImagePrompt}} |\n\n/if left={{pipe}} right=1 rule=gt {:\n\t/setglobalvar key=generatingimg true |\n\t/imagine {{getvar::ImagePrompt}}\n:} |\n\n/flushvar PreImagePrompt |\n/flushvar ImagePrompt |\n/flushglobalvar generatingimg",
            "contextList": [],
            "preventAutoExecute": true,
            "isHidden": false,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false,
            "executeOnNewChat": false,
            "automationId": ""
        },
        {
            "id": 18,
            "showLabel": false,
            "label": "Auto",
            "title": "",
            "message": "/qr-edit Imagine →",
            "contextList": [],
            "preventAutoExecute": true,
            "isHidden": false,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false,
            "executeOnNewChat": false,
            "automationId": ""
        },
        {
            "id": 3,
            "showLabel": false,
            "label": "Imagine →",
            "title": "",
            "message": "// * Imagine last - Uses the last message and create an image with it. Adds prefix if set.\n\nDirections: Make sure buttons is checked for the QRs in this set.\n************************* |\n\n/setvar key=imgprompt {{getvar::SDprefix}} | \n\n/if  left={{lastMessage}} right=\"sends a picture\" rule=in else=\"/setvar key=lastmsg {{lastMessage}}\" {:\n    /setvar key=lastmsg {{getvar::lastmsg}}\n:} |\n\n/if  left=lastmsg right= rule=eq \"/echo lastmsg is null\" |\n\n/addvar key=imgprompt {{getvar::lastmsg}} |\n/trimtokens limit=300 direction=end |\n\n/echo Generating image... |\n/setglobalvar key=generatingimg true |\n/imagine {{getvar::imgprompt}} |\n/delay 200 |\n/flushglobalvar generatingimg",
            "contextList": [],
            "preventAutoExecute": true,
            "isHidden": false,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": true,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false,
            "executeOnNewChat": false,
            "automationId": ""
        }
    ],
    "idIndex": 18
}